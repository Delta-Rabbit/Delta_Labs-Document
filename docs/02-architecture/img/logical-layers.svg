<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 520 580" font-family="system-ui, sans-serif" font-size="12">
  <defs>
    <marker id="arrow" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <path d="M0 0 L8 3 L0 6 Z" fill="#374151"/>
    </marker>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="2" stdDeviation="2" flood-opacity="0.15"/>
    </filter>
  </defs>
  <rect x="60" y="10" width="400" height="44" rx="6" fill="#EFF6FF" stroke="#3B82F6" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="260" y="28" text-anchor="middle" font-weight="600" fill="#1E40AF">CLIENTS</text>
  <text x="260" y="42" text-anchor="middle" fill="#374151">Web (React SPA) - Mobile - Partner/Admin</text>
  <line x1="260" y1="54" x2="260" y2="78" stroke="#374151" stroke-width="2" marker-end="url(#arrow)"/>
  <rect x="40" y="78" width="440" height="44" rx="6" fill="#F0FDF4" stroke="#22C55E" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="260" y="96" text-anchor="middle" font-weight="600" fill="#166534">EDGE &amp; GLOBAL TRAFFIC</text>
  <text x="260" y="110" text-anchor="middle" fill="#374151">CDN - DDoS/WAF - TLS termination</text>
  <line x1="260" y1="122" x2="260" y2="146" stroke="#374151" stroke-width="2" marker-end="url(#arrow)"/>
  <rect x="40" y="146" width="440" height="44" rx="6" fill="#FEF3C7" stroke="#F59E0B" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="260" y="164" text-anchor="middle" font-weight="600" fill="#B45309">API GATEWAY / BFF</text>
  <text x="260" y="178" text-anchor="middle" fill="#374151">JWT/session - Rate limit - Routing - CORS - Request ID</text>
  <line x1="260" y1="190" x2="260" y2="214" stroke="#374151" stroke-width="2" marker-end="url(#arrow)"/>
  <rect x="20" y="214" width="92" height="56" rx="6" fill="#EDE9FE" stroke="#8B5CF6" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="66" y="232" text-anchor="middle" font-weight="600" fill="#5B21B6">REST API</text>
  <text x="66" y="246" text-anchor="middle" fill="#374151">/auth, /courses</text>
  <text x="66" y="260" text-anchor="middle" fill="#374151">/labs...</text>
  <rect x="122" y="214" width="92" height="56" rx="6" fill="#EDE9FE" stroke="#8B5CF6" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="168" y="232" text-anchor="middle" font-weight="600" fill="#5B21B6">AI ORCH.</text>
  <text x="168" y="246" text-anchor="middle" fill="#374151">/ai/execute</text>
  <text x="168" y="260" text-anchor="middle" fill="#374151">Tools to services</text>
  <rect x="224" y="214" width="72" height="56" rx="6" fill="#EDE9FE" stroke="#8B5CF6" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="260" y="232" text-anchor="middle" font-weight="600" fill="#5B21B6">REAL-TIME</text>
  <text x="260" y="250" text-anchor="middle" fill="#374151">WS/SSE</text>
  <rect x="306" y="214" width="92" height="56" rx="6" fill="#EDE9FE" stroke="#8B5CF6" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="352" y="232" text-anchor="middle" font-weight="600" fill="#5B21B6">WEBHOOKS</text>
  <text x="352" y="250" text-anchor="middle" fill="#374151">Partners</text>
  <rect x="408" y="214" width="92" height="56" rx="6" fill="#EDE9FE" stroke="#8B5CF6" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="454" y="232" text-anchor="middle" font-weight="600" fill="#5B21B6">INTERNAL</text>
  <text x="454" y="250" text-anchor="middle" fill="#374151">Workers, cron</text>
  <path d="M66 270 L66 296 L260 296 L260 322" stroke="#374151" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
  <path d="M168 270 L168 296 L260 296" stroke="#374151" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
  <path d="M260 270 L260 296" stroke="#374151" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
  <path d="M352 270 L352 296 L260 296" stroke="#374151" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
  <path d="M454 270 L454 296 L260 296" stroke="#374151" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
  <rect x="40" y="322" width="440" height="48" rx="6" fill="#FCE7F3" stroke="#EC4899" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="260" y="340" text-anchor="middle" font-weight="600" fill="#9D174D">DOMAIN / APPLICATION LAYER</text>
  <text x="260" y="356" text-anchor="middle" fill="#374151">Use cases - Validation - RBAC - Idempotency</text>
  <line x1="260" y1="370" x2="260" y2="394" stroke="#374151" stroke-width="2" marker-end="url(#arrow)"/>
  <rect x="40" y="394" width="100" height="64" rx="6" fill="#E5E7EB" stroke="#6B7280" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="90" y="418" text-anchor="middle" font-weight="600" fill="#374151">MongoDB</text>
  <text x="90" y="432" text-anchor="middle" fill="#374151">Primary DB</text>
  <text x="90" y="448" text-anchor="middle" fill="#374151">Users, courses...</text>
  <rect x="155" y="394" width="100" height="64" rx="6" fill="#E5E7EB" stroke="#6B7280" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="205" y="418" text-anchor="middle" font-weight="600" fill="#374151">Redis</text>
  <text x="205" y="432" text-anchor="middle" fill="#374151">Cache, sessions</text>
  <text x="205" y="448" text-anchor="middle" fill="#374151">Queues</text>
  <rect x="270" y="394" width="100" height="64" rx="6" fill="#E5E7EB" stroke="#6B7280" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="320" y="418" text-anchor="middle" font-weight="600" fill="#374151">Object Storage</text>
  <text x="320" y="432" text-anchor="middle" fill="#374151">S3-compatible</text>
  <text x="320" y="448" text-anchor="middle" fill="#374151">Media, exports</text>
  <rect x="385" y="394" width="95" height="64" rx="6" fill="#E5E7EB" stroke="#6B7280" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="432" y="418" text-anchor="middle" font-weight="600" fill="#374151">External</text>
  <text x="432" y="432" text-anchor="middle" fill="#374151">Payments,</text>
  <text x="432" y="448" text-anchor="middle" fill="#374151">Email, OAuth, LLM</text>
</svg>
